<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>OA Progression prediction</title>
        <style>
        h1 {text-align: center;color: #2e6c80;}
        h3 {text-align: left; color: #2e6c80;}
        p {text-align: left;}
        div {text-align: center;}
        </style>
    </head>
<style>
.table-container {
  display: flex;
}
#left-table{
text-align: left;
margin-left: 20px;
margin-right: 140px;
    }
#right-table {
  flex: 1;
  margin-right: 20px;
  text-align: left
}
.single-column{
  font-weight: bold;
  font-size: 20px;
  text-align: left
}


</style>
    <body>
    
        <h1>OA progression prediction with IMI-APPROACH dataset</h1>
        <br>
        <p> IMI-APPROACH dataset includes 6 categories of data: Biomarker <strong>(B)</strong>, Clinical <strong>(C)</strong>, Questionnaires <strong>(Q)</strong>,  MRI <strong>(M)</strong>, Xray <strong>(X)</strong>, Tomography<strong>(T)</strong>. Machine learning models are trained with each category of the data as well as <strong>all</strong> data combined to predict OA progression. </p>
<br>
<h3>Below the AUC values for all models are listed, please click to see the characteristics selected by each model.</h3>
<br>
<script type="text/javascript">

function generateTable(data1,rownames1,data2,rownames2,colnames) {

    const tableContainer = document.createElement('div');
    tableContainer.className = 'table-container';
    const leftTable = document.createElement('table');
    leftTable.id = 'left-table';
    leftTable.style.width='35%'
    const rightTable = document.createElement('table');
    rightTable.id = 'right-table';
    rightTable.style.width='33%'

    const row_ltitle = document.createElement('tr');
    const cell_ltitle = document.createElement('td');
    cell_ltitle.textContent = "Prediction of delta-based progression labels"
    cell_ltitle.colSpan = colnames.length+1;
    cell_ltitle.classList.add('single-column');
    row_ltitle.appendChild(cell_ltitle);
    leftTable.appendChild(row_ltitle);
    const row_rtitle = document.createElement('tr');
    const cell_rtitle = document.createElement('td');
    cell_rtitle.textContent = "Prediction of regression-based progression labels"
    cell_rtitle.colSpan = colnames.length+1;
    cell_rtitle.classList.add('single-column');
    row_rtitle.appendChild(cell_rtitle);
    rightTable.appendChild(row_rtitle);


  const row_l = document.createElement('tr');
  const cell_l = document.createElement('td');
  cell_l.textContent = "Progression Label";
  row_l.appendChild(cell_l);
  for (let j = 0; j < colnames.length-1; j++) {
      const cell = document.createElement('td');
      cell.textContent = colnames[j].charAt(0);
      row_l.appendChild(cell);
    }
  const tail_l = document.createElement('td');
  tail_l.textContent = colnames[colnames.length-1];
  row_l.appendChild(tail_l);
  leftTable.appendChild(row_l);

  for (let i = 0; i < data1.length; i++) {
    const row = document.createElement('tr');
    const header = document.createElement('td');
    header.textContent = rownames1[i];
    row.appendChild(header);
    for (let j = 0; j < data1[i].length; j++) {
        const cell = document.createElement('td');
        const link = document.createElement('a');
        link.href = "OAprogPred/shapBeeswarm-"+colnames[j] + "-"+rownames1[i]+".pdf"
        link.textContent = data1[i][j];
        cell.appendChild(link);
        row.appendChild(cell);
    }
    leftTable.appendChild(row);
  }

  const row_r = document.createElement('tr');
  const cell_r = document.createElement('td');
  cell_r.textContent = "Progression Label";
  row_r.appendChild(cell_r);
  for (let j = 0; j < colnames.length-1; j++) {
      const cell = document.createElement('td');
      cell.textContent = colnames[j].charAt(0);
      row_r.appendChild(cell);
    }
  const tail_r = document.createElement('td');
  tail_r.textContent = colnames[colnames.length-1];
  row_r.appendChild(tail_r);
  rightTable.appendChild(row_r);

  for (let i = 0; i < data2.length; i++) {
    const row = document.createElement('tr');
    const header = document.createElement('td');
    header.textContent = rownames2[i];
    row.appendChild(header);
    for (let j = 0; j < data2[i].length; j++) {
        const cell = document.createElement('td');
        const link = document.createElement('a');
        link.href = "OAprogPred/shapBeeswarm-"+colnames[j] + "-"+rownames2[i]+".pdf"
        link.textContent = data2[i][j];
        cell.appendChild(link);
        row.appendChild(cell);
    }
    rightTable.appendChild(row);
  }

  tableContainer.appendChild(leftTable);
  tableContainer.appendChild(rightTable);
  document.body.appendChild(tableContainer);

}
dataNames = ['Biomarker', 'Clinical', 'Questionnaires', 'MRI', 'Xray', 'Tomography','all'];
const delta_progNames = ['KL_score_2', 'MOAKS_CartAny_Pat', 'MOAKS_CartFull_Pat','MOAKS_CartAny_MAC', 'MOAKS_CartAny_wholejoint', 'MOAKS_CartFull_MAC','MOAKS_CartFull_wholejoint', 'qMRI_CartThick_MAC','qMRI_CartThick_wholejoint', 'KIDA_JSWmin', 'KIDA_JSWmean_MAC','KIDA_JSWmean_wholejoint', 'MOAKS_OP_Pat', 'MOAKS_OP_MAC','MOAKS_OP_wholejoint', 'KIDA_OP_MAC', 'KIDA_OP_wholejoint','MOAKS_Synovitis', 'MOAKS_Effusion', 'MOAKS_MeniscalTear','MOAKS_MeniscalExtrusion', 'KIDA_BD_MAC', 'KIDA_BD_wholejoint','MOAKS_BMLnum_MAC', 'MOAKS_BMLnum_wholejoint', 'MOAKS_BMLsize_MAC','MOAKS_BMLsize_wholejoint', 'MOAKS_BMLnum_Pat', 'MOAKS_BMLsize_Pat','boneMRI_ShapeFermur', 'boneMRI_ShapeTibia', 'boneMRI_BoneArea','CartThick', 'JSW', 'OP', 'Inflame', 'Meniscal', 'BD', 'BML', 'Bone'];
const reg_progNames = ['REG_KL_score_2', 'REG_MOAKS_CartAny_Pat', 'REG_MOAKS_CartFull_Pat','REG_MOAKS_CartAny_MAC', 'REG_MOAKS_CartAny_wholejoint','REG_MOAKS_CartFull_MAC', 'REG_MOAKS_CartFull_wholejoint',
                       'REG_qMRI_CartThick_MAC', 'REG_qMRI_CartThick_wholejoint','REG_KIDA_JSWmin', 'REG_KIDA_JSWmean_MAC','REG_KIDA_JSWmean_wholejoint', 
                       'REG_MOAKS_OP_Pat', 'REG_MOAKS_OP_MAC','REG_MOAKS_OP_wholejoint', 'REG_KIDA_OP_MAC', 'REG_KIDA_OP_wholejoint',
                       'REG_MOAKS_Synovitis', 'REG_MOAKS_Effusion', 'REG_MOAKS_MeniscalTear','REG_MOAKS_MeniscalExtrusion', 'REG_KIDA_BD_MAC','REG_KIDA_BD_wholejoint', 
                       'REG_MOAKS_BMLnum_MAC','REG_MOAKS_BMLnum_wholejoint', 'REG_MOAKS_BMLsize_MAC','REG_MOAKS_BMLsize_wholejoint', 'REG_MOAKS_BMLnum_Pat','REG_MOAKS_BMLsize_Pat', 
                       'REG_CartThick', 'REG_JSW', 'REG_OP','REG_Inflame', 'REG_Meniscal', 'REG_BD', 'REG_BML'];
const delta_progAUCs = [[0.6 , 0.5 , 0.45, 0.47, 0.72, 0.43, 0.57],
       [0.58, 0.53, 0.44, 0.53, 0.58, 0.57, 0.55],
       [0.4 , 0.48, 0.49, 0.63, 0.54, 0.37, 0.51],
       [0.49, 0.68, 0.5 , 0.53, 0.52, 0.56, 0.54],
       [0.5 , 0.48, 0.45, 0.5 , 0.54, 0.48, 0.49],
       [0.53, 0.54, 0.4 , 0.57, 0.54, 0.51, 0.51],
       [0.59, 0.48, 0.56, 0.63, 0.67, 0.58, 0.67],
       [0.59, 0.5 , 0.61, 0.56, 0.59, 0.55, 0.58],
       [0.54, 0.58, 0.64, 0.67, 0.63, 0.66, 0.66],
       [0.49, 0.45, 0.42, 0.46, 0.5 , 0.54, 0.46],
       [0.64, 0.64, 0.63, 0.51, 0.61, 0.56, 0.49],
       [0.43, 0.44, 0.52, 0.58, 0.75, 0.55, 0.78],
       [0.47, 0.59, 0.66, 0.68, 0.65, 0.61, 0.66],
       [0.47, 0.51, 0.69, 0.57, 0.61, 0.48, 0.6 ],
       [0.62, 0.45, 0.68, 0.54, 0.61, 0.56, 0.66],
       [0.61, 0.43, 0.5 , 0.71, 0.73, 0.74, 0.73],
       [0.68, 0.53, 0.58, 0.75, 0.79, 0.78, 0.77],
       [0.74, 0.53, 0.6 , 0.49, 0.58, 0.33, 0.56],
       [0.63, 0.53, 0.61, 0.54, 0.66, 0.56, 0.64],
       [0.63, 0.62, 0.48, 0.61, 0.45, 0.74, 0.65],
       [0.58, 0.51, 0.67, 0.57, 0.62, 0.6 , 0.53],
       [0.54, 0.46, 0.44, 0.48, 0.69, 0.49, 0.64],
       [0.54, 0.39, 0.52, 0.42, 0.64, 0.52, 0.63],
       [0.55, 0.59, 0.41, 0.58, 0.65, 0.59, 0.6 ],
       [0.52, 0.54, 0.41, 0.65, 0.67, 0.64, 0.6 ],
       [0.49, 0.51, 0.54, 0.76, 0.78, 0.74, 0.73],
       [0.49, 0.51, 0.55, 0.74, 0.74, 0.72, 0.75],
       [0.43, 0.54, 0.55, 0.63, 0.55, 0.64, 0.6 ],
       [0.47, 0.52, 0.52, 0.5 , 0.57, 0.66, 0.58],
       [0.58, 0.6 , 0.53, 0.7 , 0.8 , 0.72, 0.73],
       [0.62, 0.53, 0.58, 0.7 , 0.63, 0.54, 0.65],
       [0.61, 0.54, 0.63, 0.73, 0.73, 0.61, 0.77],
       [0.66, 0.57, 0.58, 0.7 , 0.75, 0.59, 0.73],
       [0.54, 0.42, 0.49, 0.44, 0.46, 0.57, 0.49],
       [0.68, 0.53, 0.6 , 0.78, 0.77, 0.77, 0.76],
       [0.56, 0.64, 0.57, 0.51, 0.6 , 0.56, 0.57],
       [0.53, 0.54, 0.54, 0.59, 0.52, 0.63, 0.62],
       [0.54, 0.39, 0.52, 0.42, 0.64, 0.52, 0.63],
       [0.52, 0.53, 0.53, 0.74, 0.75, 0.72, 0.71],
       [0.59, 0.57, 0.67, 0.72, 0.77, 0.69, 0.76]];
const reg_progAUCs = [[0.48, 0.61, 0.45, 0.48, 0.66, 0.45, 0.52],
       [0.57, 0.45, 0.5 , 0.59, 0.48, 0.38, 0.5 ],
       [0.51, 0.44, 0.58, 0.58, 0.49, 0.51, 0.52],
       [0.5 , 0.57, 0.56, 0.47, 0.41, 0.49, 0.42],
       [0.52, 0.47, 0.58, 0.56, 0.46, 0.53, 0.51],
       [0.45, 0.61, 0.47, 0.62, 0.55, 0.55, 0.63],
       [0.54, 0.56, 0.51, 0.63, 0.61, 0.62, 0.65],
       [0.59, 0.49, 0.56, 0.66, 0.63, 0.63, 0.64],
       [0.5 , 0.53, 0.53, 0.66, 0.56, 0.55, 0.6 ],
       [0.46, 0.53, 0.48, 0.46, 0.56, 0.45, 0.51],
       [0.64, 0.4 , 0.61, 0.5 , 0.48, 0.65, 0.61],
       [0.5 , 0.58, 0.41, 0.65, 0.58, 0.53, 0.67],
       [0.47, 0.63, 0.52, 0.69, 0.73, 0.56, 0.7 ],
       [0.54, 0.58, 0.56, 0.71, 0.67, 0.45, 0.63],
       [0.59, 0.57, 0.61, 0.72, 0.57, 0.46, 0.62],
       [0.59, 0.53, 0.48, 0.71, 0.69, 0.68, 0.72],
       [0.61, 0.58, 0.56, 0.71, 0.78, 0.76, 0.76],
       [0.52, 0.62, 0.39, 0.48, 0.6 , 0.3 , 0.5 ],
       [0.59, 0.43, 0.46, 0.56, 0.6 , 0.6 , 0.57],
       [0.62, 0.55, 0.52, 0.6 , 0.59, 0.71, 0.67],
       [0.57, 0.4 , 0.62, 0.62, 0.64, 0.57, 0.62],
       [0.51, 0.47, 0.46, 0.46, 0.56, 0.51, 0.56],
       [0.51, 0.45, 0.58, 0.46, 0.54, 0.47, 0.5 ],
       [0.63, 0.59, 0.47, 0.6 , 0.62, 0.65, 0.64],
       [0.55, 0.61, 0.48, 0.63, 0.71, 0.68, 0.69],
       [0.6 , 0.53, 0.59, 0.8 , 0.82, 0.8 , 0.83],
       [0.62, 0.52, 0.6 , 0.8 , 0.81, 0.76, 0.79],
       [0.56, 0.57, 0.51, 0.63, 0.58, 0.44, 0.52],
       [0.45, 0.5 , 0.46, 0.44, 0.42, 0.56, 0.51],
       [0.55, 0.58, 0.54, 0.65, 0.63, 0.61, 0.64],
       [0.51, 0.54, 0.55, 0.5 , 0.58, 0.52, 0.56],
       [0.58, 0.53, 0.58, 0.75, 0.77, 0.75, 0.76],
       [0.58, 0.52, 0.48, 0.49, 0.53, 0.53, 0.52],
       [0.52, 0.47, 0.55, 0.58, 0.57, 0.6 , 0.58],
       [0.51, 0.45, 0.58, 0.46, 0.54, 0.47, 0.5 ],
       [0.61, 0.53, 0.58, 0.77, 0.82, 0.78, 0.8 ]];


generateTable(delta_progAUCs,delta_progNames,reg_progAUCs,reg_progNames,dataNames);
        </script>
        <h3>Check the heatmaps of AUC values [ <a href='OAprogPred/AcrossLabels_CHA_auc.html'>delta-based</a>;  <a href='OAprogPred/AcrossLabels_REG_auc.html'>regression-based</a>] and f1-scores [ <a href='OAprogPred/AcrossLabels_CHA_fscore.html'>delta-based</a>;  <a href='OAprogPred/AcrossLabels_REG_fscore.html'>regression-based</a>] for structural progression predication. </h3>
    </body>
</html>
