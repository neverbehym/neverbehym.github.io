<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>OA Progression prediction</title>
        <style>
        h1 {text-align: center;color: #2e6c80;}
        h3 {text-align: left; color: #2e6c80;}
        p {text-align: left;}
        div {text-align: center;}
        </style>
    </head>
<style>
.table-container {
  display: flex;
}
#left-table{
text-align: left;
margin-left: 20px;
margin-right: 140px;
    }
#right-table {
  flex: 1;
  margin-right: 20px;
  text-align: left
}
.single-column{
  font-weight: bold;
  font-size: 20px;
  text-align: left
}


</style>
    <body>
    
        <h1>OA progression prediction with IMI-APPROACH dataset</h1>
        <br>
        <p> IMI-APPROACH dataset includes 6 categories of data: Biomarker <strong>(B)</strong>, Clinical <strong>(C)</strong>, Questionnaires <strong>(Q)</strong>,  MRI <strong>(M)</strong>, Xray <strong>(X)</strong>, Tomography<strong>(T)</strong>. Machine learning models are trained with each category of the data as well as <strong>all</strong> data combined to predict OA progression. </p>
<br>
<h3>Below the AUC values for all models are listed, please click to see the characteristics selected by each model.</h3>
<br>
<script type="text/javascript">

function generateTable(data1,rownames1,data2,rownames2,colnames) {

    const tableContainer = document.createElement('div');
    tableContainer.className = 'table-container';
    const leftTable = document.createElement('table');
    leftTable.id = 'left-table';
    leftTable.style.width='35%'
    const rightTable = document.createElement('table');
    rightTable.id = 'right-table';
    rightTable.style.width='33%'

    const row_ltitle = document.createElement('tr');
    const cell_ltitle = document.createElement('td');
    cell_ltitle.textContent = "Prediction of delta-based progression labels"
    cell_ltitle.colSpan = colnames.length+1;
    cell_ltitle.classList.add('single-column');
    row_ltitle.appendChild(cell_ltitle);
    leftTable.appendChild(row_ltitle);
    const row_rtitle = document.createElement('tr');
    const cell_rtitle = document.createElement('td');
    cell_rtitle.textContent = "Prediction of regression-based progression labels"
    cell_rtitle.colSpan = colnames.length+1;
    cell_rtitle.classList.add('single-column');
    row_rtitle.appendChild(cell_rtitle);
    rightTable.appendChild(row_rtitle);


  const row_l = document.createElement('tr');
  const cell_l = document.createElement('td');
  cell_l.textContent = "Progression Label";
  row_l.appendChild(cell_l);
  for (let j = 0; j < colnames.length-1; j++) {
      const cell = document.createElement('td');
      cell.textContent = colnames[j].charAt(0);
      row_l.appendChild(cell);
    }
  const tail_l = document.createElement('td');
  tail_l.textContent = colnames[colnames.length-1];
  row_l.appendChild(tail_l);
  leftTable.appendChild(row_l);

  for (let i = 0; i < data1.length; i++) {
    const row = document.createElement('tr');
    const header = document.createElement('td');
    header.textContent = rownames1[i];
    row.appendChild(header);
    for (let j = 0; j < data1[i].length; j++) {
        const cell = document.createElement('td');
        const link = document.createElement('a');
        link.href = "OAprogPred/shapBeeswarm-"+colnames[j] + "-"+rownames1[i]+".pdf"
        link.textContent = data1[i][j];
        cell.appendChild(link);
        row.appendChild(cell);
    }
    leftTable.appendChild(row);
  }

  const row_r = document.createElement('tr');
  const cell_r = document.createElement('td');
  cell_r.textContent = "Progression Label";
  row_r.appendChild(cell_r);
  for (let j = 0; j < colnames.length-1; j++) {
      const cell = document.createElement('td');
      cell.textContent = colnames[j].charAt(0);
      row_r.appendChild(cell);
    }
  const tail_r = document.createElement('td');
  tail_r.textContent = colnames[colnames.length-1];
  row_r.appendChild(tail_r);
  rightTable.appendChild(row_r);

  for (let i = 0; i < data2.length; i++) {
    const row = document.createElement('tr');
    const header = document.createElement('td');
    header.textContent = rownames2[i];
    row.appendChild(header);
    for (let j = 0; j < data2[i].length; j++) {
        const cell = document.createElement('td');
        const link = document.createElement('a');
        link.href = "OAprogPred/shapBeeswarm-"+colnames[j] + "-"+rownames2[i]+".pdf"
        link.textContent = data2[i][j];
        cell.appendChild(link);
        row.appendChild(cell);
    }
    rightTable.appendChild(row);
  }

  tableContainer.appendChild(leftTable);
  tableContainer.appendChild(rightTable);
  document.body.appendChild(tableContainer);

}
dataNames = ['Biomarker', 'Clinical', 'Questionnaires', 'MRI', 'Xray', 'Tomography','all'];
const delta_progNames = ["KL_score", "MOAKS_CartAny_Pat", "MOAKS_CartFull_Pat","MOAKS_CartAny_MAC", "MOAKS_CartFull_MAC", "qMRI_CartThick_MAC","qMRI_CartThick_wholejoint", "KIDA_JSWmin_06", "KIDA_JSWmean_MAC","MOAKS_OP_MAC", "MOAKS_OP_Pat", "KIDA_OP_MAC", "MOAKS_Synovitis","MOAKS_Effusion", "MOAKS_MeniscalTear", "MOAKS_MeniscalExtrusion","KIDA_BD_MAC","MOAKS_BMLnum_MAC","MOAKS_BMLsize_MAC","MOAKS_BMLnum_Pat","MOAKS_BMLsize_Pat","boneMRI_ShapeFermur","boneMRI_ShapeTibia","boneMRI_BoneArea","structural_CartThick","structural_JSW", "structural_OP", "structural_inflam","structural_BML", "structural_Bone", "structural_Cart_all","structural_Cart_any","Structural_nonCart_all","Structural_nonCart_half", "Structural_nonCart_any","structural_any_all","structural_all_any","Pain_Escalated", "Pain_Sustained"];
const reg_progNames = ["REG_KL_score", "REG_MOAKS_CartAny_Pat", "REG_MOAKS_CartFull_Pat","REG_MOAKS_CartAny_MAC", "REG_MOAKS_CartFull_MAC","REG_qMRI_CartThick_MAC", "REG_qMRI_CartThick_wholejoint","REG_KIDA_JSWmin_06", "REG_KIDA_JSWmean_MAC", "REG_MOAKS_OP_MAC","REG_MOAKS_OP_Pat", "REG_KIDA_OP_MAC", "REG_MOAKS_Synovitis","REG_MOAKS_Effusion", "REG_MOAKS_MeniscalTear","REG_MOAKS_MeniscalExtrusion", "REG_KIDA_BD_MAC","REG_MOAKS_BMLnum_MAC", "REG_MOAKS_BMLsize_MAC", "REG_MOAKS_BMLnum_Pat","REG_MOAKS_BMLsize_Pat", "structural_REG_CartThick", "structural_REG_JSW", "structural_REG_OP", "structural_REG_inflam","structural_REG_BML", "structural_REG_Cart_all","structural_REG_Cart_any", "Structural_REG_nonCart_all","Structural_REG_nonCart_half", "Structural_REG_nonCart_any","structural_REG_any_all", "structural_REG_all_any"];
const delta_progAUCs = [
    [0.59, 0.44, 0.38, 0.54, 0.6,  0.51, 0.46], [0.59, 0.51, 0.42, 0.43, 0.52, 0.5,  0.52], [0.48, 0.44, 0.48, 0.58, 0.58, 0.4, 0.62], [0.51, 0.65, 0.6,  0.56, 0.46, 0.44, 0.34],
    [0.51, 0.5,  0.45, 0.55, 0.57, 0.52, 0.54], [0.58, 0.5,  0.63, 0.68, 0.65, 0.57, 0.69], [0.54, 0.58, 0.64, 0.66, 0.68, 0.68, 0.65], [0.49, 0.52, 0.51, 0.55, 0.58, 0.47, 0.55],
    [0.62, 0.7,  0.59, 0.47, 0.6,  0.61, 0.58], [0.52, 0.54, 0.64, 0.57, 0.5,  0.47, 0.55], [0.54, 0.71, 0.57, 0.65, 0.61, 0.57, 0.73], [0.6,  0.51, 0.55, 0.74, 0.76, 0.74, 0.76],
    [0.72, 0.58, 0.56, 0.42, 0.6,  0.31, 0.63], [0.57, 0.53, 0.59, 0.49, 0.59, 0.55, 0.64],[0.67, 0.56, 0.49, 0.56, 0.58, 0.61, 0.68], [0.57, 0.57, 0.63, 0.58, 0.59, 0.56, 0.55],
    [0.49, 0.48, 0.45, 0.46, 0.66, 0.5,  0.65],[0.54, 0.62, 0.43, 0.63, 0.62, 0.57, 0.62], [0.48, 0.52, 0.53, 0.76, 0.76, 0.74, 0.73], [0.44, 0.58, 0.5,  0.53, 0.54, 0.55, 0.59],
    [0.5,  0.55, 0.55, 0.49, 0.61, 0.67, 0.59], [0.6,  0.55, 0.6,  0.7,  0.75, 0.67, 0.7 ], [0.59, 0.5,  0.61, 0.68, 0.63, 0.57, 0.66], [0.57, 0.52, 0.63, 0.69, 0.76, 0.53, 0.72],
    [0.58, 0.51, 0.62, 0.63, 0.69, 0.62, 0.67], [0.49, 0.49, 0.51, 0.45, 0.51, 0.52, 0.42], [0.65, 0.54, 0.58, 0.73, 0.7,  0.72, 0.73], [0.56, 0.57, 0.59, 0.46, 0.49, 0.55, 0.51],
    [0.47, 0.55, 0.5,  0.74, 0.77, 0.74, 0.72], [0.59, 0.57, 0.67, 0.72, 0.76, 0.69, 0.79], [0.52, 0.58, 0.6,  0.66, 0.69, 0.61, 0.57], [0.65, 0.47, 0.57, 0.58, 0.7,  0.57, 0.68],
    [0.72, 0.5,  0.61, 0.66, 0.54, 0.59, 0.6 ], [0.53, 0.52, 0.57, 0.59, 0.7,  0.53, 0.68], [0.58, 0.53, 0.61, 0.77, 0.76, 0.65, 0.73], [0.59, 0.54, 0.66, 0.71, 0.76, 0.67, 0.77],
    [0.61, 0.57, 0.63, 0.69, 0.7,  0.72, 0.65],[0.53, 0.5 , 0.69, 0.47, 0.55, 0.56, 0.43],[0.58, 0.74, 0.95, 0.73, 0.62, 0.55, 0.95]
];
const reg_progAUCs = [
    [0.52, 0.55, 0.4,  0.55, 0.56, 0.48, 0.51], [0.43, 0.58, 0.54, 0.46, 0.6,  0.53, 0.54], [0.55, 0.48, 0.51, 0.55, 0.59, 0.4,  0.55], [0.55, 0.55, 0.58, 0.47, 0.52, 0.5,  0.55],
    [0.5,  0.55, 0.45, 0.6,  0.54, 0.5,  0.48], [0.54, 0.48, 0.54, 0.66, 0.66, 0.63, 0.65], [0.51, 0.53, 0.56, 0.57, 0.62, 0.6,  0.52], [0.61, 0.53, 0.54, 0.47, 0.52, 0.5,  0.5 ],
    [0.61, 0.54, 0.66, 0.72, 0.77, 0.72, 0.76], [0.52, 0.51, 0.57, 0.56, 0.57, 0.55, 0.57], [0.49, 0.71, 0.52, 0.58, 0.7,  0.61, 0.73], [0.6,  0.61, 0.61, 0.67, 0.73, 0.71, 0.71],
    [0.62, 0.4,  0.34, 0.56, 0.6,  0.47, 0.36], [0.67, 0.63, 0.54, 0.49, 0.44, 0.54, 0.54], [0.57, 0.56, 0.53, 0.51, 0.59, 0.65, 0.66], [0.47, 0.6,  0.53, 0.61, 0.57, 0.52, 0.49],
    [0.54, 0.41, 0.55, 0.5,  0.62, 0.53, 0.58], [0.5,  0.59, 0.44, 0.64, 0.61, 0.67, 0.64], [0.63, 0.5,  0.59, 0.76, 0.76, 0.71, 0.75], [0.57, 0.54, 0.48, 0.64, 0.56, 0.51, 0.52],
    [0.52, 0.5,  0.51, 0.48, 0.53, 0.48, 0.5 ], [0.62, 0.46, 0.54, 0.7,  0.7,  0.6,  0.67], [0.64, 0.59, 0.51, 0.46, 0.54, 0.56, 0.49], [0.67, 0.59, 0.57, 0.75, 0.75, 0.7,  0.77],
     [0.56, 0.49, 0.57, 0.53, 0.54, 0.55, 0.59], [0.6,  0.56, 0.51, 0.79, 0.78, 0.73, 0.79], [0.65, 0.47, 0.53, 0.62, 0.65, 0.62, 0.72], [0.56, 0.46, 0.56, 0.64, 0.68, 0.6,  0.66],
     [0.74, 0.44, 0.67, 0.5,  0.46, 0.61, 0.59], [0.62, 0.52, 0.63, 0.72, 0.74, 0.69, 0.73], [0.62, 0.44, 0.52, 0.56, 0.65, 0.6,  0.59], [0.55, 0.5,  0.56, 0.66, 0.69, 0.64, 0.67],
     [0.62, 0.49, 0.56, 0.7,  0.65, 0.71, 0.73]
];


generateTable(delta_progAUCs,delta_progNames,reg_progAUCs,reg_progNames,dataNames);
        </script>
        <h3>Check the heatmaps of AUC values [ <a href='OAprogPred/AcrossLabels_CHA_auc.html'>delta-based</a>;  <a href='OAprogPred/AcrossLabels_REG_auc.html'>regression-based</a>] and f1-scores [ <a href='OAprogPred/AcrossLabels_CHA_fscore.html'>delta-based</a>;  <a href='OAprogPred/AcrossLabels_REG_fscore.html'>regression-based</a>] for structural progression predication. </h3>
        <h3>Check the heatmaps of <a href='OAprogPred/AcrossLabels_CHA_auc_pain.html'>AUC values</a> and <a href='OAprogPred/AcrossLabels_CHA_fscore_pain.html'>f1-scores </a>] for pain progression predication. </h3>
    </body>
</html>
